# sealTools
 一些提供给 SealDice 的小工具

## 开发指南
1. 程序需要放在海豹核心根目录下（`checkSealValid()` 会检查工作目录中是否有海豹的文件），否则会引导进入修复模式。
2. 所有错误都输出到 `os.Stderr`，可以在主程序中用一些方法（`cmd.StderrPipe` 之类）捕获。 
3. 在 macOS 上开发，未验证对 Windows 的兼容性（尤其是复制/创建文件那里）。**`recovery.go` 中的代码还未被全面测试过。**

## 命令行参数
程序启动时，以下参数按次序被检查。
- `-t <path>`：指定要恢复的备份的路径。如果存在，则恢复该备份并退出程序。
- `-w <path>`：指定程序的工作路径（输出、解压到的路径），默认为程序所在的路径。
- `-d`：如果存在，则从网络下载最新版本的安装包，最后退出程序。
- `-i`：如果 `-d` 存在且 `-i` 存在，则下载安装包后自动进行修补，最后退出程序。
- `-u <path>`：指定一个海豹安装包，从该安装包修补海豹。如果存在，则从该安装包修补并退出程序。

## 特别感谢
[熊砾](https://github.com/Lightinglight)：发现了在 Windows 环境下无法准确识别文件的问题。